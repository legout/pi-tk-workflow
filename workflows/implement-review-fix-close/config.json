{
  "metaModels": {
    "planning": {
      "model": "openai-codex/gpt-5.1-codex-mini",
      "thinking": "medium",
      "description": "Fast, cheap model for planning tasks"
    },
    "worker": {
      "model": "chutes/moonshotai/Kimi-K2.5-TEE",
      "thinking": "high",
      "description": "Strong model for implementation and complex reasoning"
    },
    "research": {
      "model": "openai-codex/gpt-5.1-codex-mini",
      "thinking": "medium",
      "description": "Fast model for research and information gathering"
    },
    "fast": {
      "model": "zai/glm-4.7",
      "thinking": "medium",
      "description": "Cheapest model for quick tasks, fixes, and summaries"
    },
    "review": {
      "model": "openai-codex/gpt-5.1-codex-mini",
      "thinking": "high",
      "description": "Capable model for code review"
    }
  },
  "agents": {
    "implementer": "worker",
    "reviewer-general": "review",
    "reviewer-spec-audit": "review",
    "reviewer-second-opinion": "review",
    "review-merge": "fast",
    "fixer": "fast",
    "closer": "fast",
    "researcher": "research",
    "researcher-fetch": "research"
  },
  "prompts": {
    "irf": "worker",
    "irf-lite": "worker",
    "irf-plan": "planning",
    "irf-plan-consult": "planning",
    "irf-plan-revise": "planning",
    "irf-plan-review": "planning",
    "irf-seed": "planning",
    "irf-backlog": "planning",
    "irf-backlog-ls": "planning",
    "irf-spike": "planning",
    "irf-baseline": "planning",
    "irf-followups": "planning",
    "irf-from-openspec": "planning",
    "irf-sync": "fast",
    "ralph-start": "worker"
  },
  "checkers": {
    "python": {
      "files": "\\.(py|pyi)$",
      "lint": "ruff check {files} --fix",
      "format": "ruff format {files}",
      "typecheck": "mypy ."
    },
    "typescript": {
      "files": "\\.(js|jsx|ts|tsx)$",
      "lint": "eslint {files} --fix",
      "format": "prettier --write {files}",
      "typecheck": "tsc --noEmit"
    },
    "rust": {
      "files": "\\.rs$",
      "lint": "cargo clippy --fix -- -W clippy::all",
      "format": "cargo fmt",
      "typecheck": "cargo check"
    },
    "go": {
      "files": "\\.go$",
      "format": "gofmt -w {files}",
      "typecheck": "go test ./..."
    },
    "markdown": {
      "files": "\\.(md|mdx)$",
      "format": "prettier --write {files}",
      "lint": "markdownlint {files}"
    },
    "json": {
      "files": "\\.json$",
      "format": "prettier --write {files}"
    },
    "yaml": {
      "files": "\\.(yml|yaml)$",
      "format": "prettier --write {files}"
    },
    "html": {
      "files": "\\.html?$",
      "format": "prettier --write {files}"
    },
    "css": {
      "files": "\\.(css|scss|sass|less)$",
      "format": "prettier --write {files}"
    },
    "shell": {
      "files": "\\.(sh|bash|zsh)$",
      "format": "shfmt -w -s {files}"
    }
  },
  "workflow": {
    "clarifyDefault": true,
    "enableResearcher": true,
    "knowledgeDir": ".pi/knowledge",
    "mcpServers": [
      "context7",
      "exa",
      "grep_app",
      "zai-web-search",
      "zai-web-reader",
      "zai-vision"
    ],
    "researchParallelAgents": 3,
    "enableReviewers": [
      "reviewer-general",
      "reviewer-spec-audit",
      "reviewer-second-opinion"
    ],
    "enableFixer": true,
    "enableCloser": true,
    "enableQualityGate": false,
    "failOn": [],
    "exclude": [
      "node_modules/**",
      "dist/**",
      "build/**",
      "coverage/**",
      ".venv/**",
      "vendor/**"
    ]
  }
}
